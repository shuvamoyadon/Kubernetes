For creating two nodes cluster Kubernetes, It is required to perform the below steps.

##For Master node Perform the below activity 

 1. sudo hostnamectl set-hostname k8_server
 2. sudo vi /etc/hosts : Where you need to add below for ssh
    172.31.54.12 k8server
    172.31.55.11 worker1
   
   #do all the steps below in the worker node too)
   # (this is for adding kernel parameters
 3. cat << EOF | sudo tee /etc/modules-load.d/containerd.conf
    >overlay
    >br_netfilter
    > EOF

 4. sudo modprobe overlay
 5. sudo modprobe br_netfilter
    # ( Add networking parameter)
 6. cat << EOF | sudo tee /etc/sysctl.d/99-kubernetes.cri.conf 
    >net.bridge.bridge-nf-call-iptables =1
    >net.ipv4..ip_forward = 1
    >net.bridge.bridge-nf-call-ip6tables = 1
    > EOF

 7. sudo sysctl --system
 8. sudo apt-get update && sudo apt-get install -y containerd
 8. sudo mkdir -p /etc/containerd
  # Generate the configuration file
 9. sudo containerd config default | sudo tee /etc/containerd/config.toml
 10. sudo systemctl restart containerd
 11. sudo swapoff -a
 12. sudo apt-get update && sudo apt-get install -y apt-transport-https curl
 13. curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add -
 14. cat << EOF | sudo tee /etc/apt/sources.list.d/kubernetes.list 
     > deb https://apt.kubernetes.io/ kubernetes-xenial main
     > EOF
  15. sudo apt-get update
  16. sudo apt-get install -y kubelet=1.25.0-00 kubeadm kubectl=1.25.0-00
  17. # do not want to upgrade
      sudo apt-mark hold  kubelet kubeadm kubectl
  18. 
